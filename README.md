# author-s-blog_app
React-Redux-TypeScript-ReactHookForm-JSONServer
Страницы:

Главная;
Статья;
Новая статья;
Авторизация;
Регистрация;
Пользователи;
Страница с ошибкой о том, что страница по заданному адресу не существует;
Страница с ошибкой о том, что у пользователя нет доступа к заданной странице.
Пояснения:

Всего у пользователя может быть 4 роли: Администратор, Модератор, Читатель, Гость.
Роль Гость для неавторизованного пользователя, недоступна для назначения.
Если какая-то страница не доступна для пользователя, то она не должна открыться при переходе по прямой ссылке. В таком случае должна открыться страница с ошибкой о том, что доступ запрещен.
Картинки для статей — удаленные адреса из интернета (ссылка).
Футер не может быть выше, чем в самом низу экрана браузера (не должно быть никакого пространства между футером и нижней границей окна браузера).
Тематика блога и дизайн на усмотрение разработчика.
Технические требования:

Проект на базе Create React App;
Настроенный проект: ESLint, Prettier, EditorConfig;
CSS: Styled Components;
Верстка только под Desktop;
Типизировать с PropTypes;
Формы с валидацией: React Hook Form и Yup;
Сетевые запросы: JSON Server;
Роутинг: React Router;
Менеджер состояния: Redux, Redux Thunk, React Redux, разбивка на под-состояния и несколько редьюсеров;
Допускается обоснованное использование npm-пакетов на усмотрение разработчика.

0. Все страницы

Содержание (3 секции сверху вниз):

шапка
контент
футер

0.1. Шапка

Содержание:

Название блога;
Краткое описание тематики блога;
Кнопка «Войти» (если пользователь не авторизован, иначе скрыть);
Имя пользователя (если пользователь авторизован, иначе скрыть);
Кнопка «Выйти» (если пользователь авторизован, иначе скрыть);
Кнопка «Новая статья» (только для администратора, иначе скрыть);
Кнопка «Пользователи» (только для администратора, иначе скрыть);
Кнопка/ссылка «Назад»;
По желанию: изображения, иконки, другой декор.

Поведение:

После нажатия на название блога происходит переход на Главную страницу;
После нажатия «Назад» нужно перейти на предыдущую страницу (на которой пользователь находился до того, как перешёл на текущую);
После нажатия на кнопку «Войти» происходит переход на страницу Авторизация /login;
После нажатия на кнопку «Выйти» меняется роль пользователя на Гость. Если текущая страница становится недоступна, то происходит переход на страницу Авторизация /login;
После нажатия на кнопку «Новая статья» происходит переход на страницу Новая статья /post;
После нажатия на кнопку «Пользователи» происходит переход на страницу Пользователи /users;

0.2. Контент

Содержание:

Содержание конкретной страницы.

0.3. Футер

Содержание:

Название блога;
Всегда текущий год;
Контакты для вопросов и предложений;
Виджет текущей погоды в вашем городе.

0.3.1. Виджет погоды

Содержание:

Должно отображаться как минимум название города, текущая температура и наличие осадков;
Дизайн информации о текущей погоде на усмотрение разработчика;
Поведение:

Данные о погоде получать с помощью API Яндекс.Погода, инструкция: ссылка;
API Яндекс.Погоды должно запрашиваться только 1 раз, при первом открытии приложения;
При переходах на разные страницы приложения запросов к API быть не должно;
Использовать бесплатный тариф «Погода на вашем сайте».

1. Главная

Адрес: /
Содержание:

Поле Поиск статей;
Список статей в виде карточек (если статьи найдены);
Сообщение о том, что по заданной в поиске фразе статьи не найдены;
Пагинация.

1.1. Поле Поиск статей

Поведение:

После ввода текста и простоя 2 секунды должен автоматически активироваться поиск (без кнопки для запуска поиска);
После активации поиска отправляется запрос на сервер для обновления выведенного списка статей;
На сервере отбираются статьи, в которых есть заданная в поле поиска фраза — совпадение в заголовке статьи;
После успешного ответа от сервера отобразить результат на месте списка статей.

1.2. Карточка статьи

Содержание:

Картинка;
Заголовок;
Дата публикации с иконкой;
Количество комментариев с иконкой.
Поведение:

При нажатии в любое место карточки происходит переход на страницу данной статьи /post/id_статьи.

1.3. Пагинация

Содержание:

Горизонтальный список номеров страниц;
В случае большого количества страниц отображать следует не все их номера, а только некоторые, среди которых обязательно должна быть текущая страница и соседние.
Поведение:

После нажатия на номер страницы должна загрузиться соответствующая выборка статей.
Количество статей на одну страницу подобрать самостоятельно, но не больше 30.
Пагинация должна корректно работать с результатами поиска.
Если общее количество статей не превышает количество для одной страницы, то пагинацию следует скрыть.

2. Статья

Адрес: /post/id_статьи

Содержание:

Картинка;
Заголовок;
Дата публикации;
Кнопка «Редактировать статью» (только для администратора, иначе скрыть);
Кнопка «Удалить статью» (только для администратора, иначе скрыть);
Текст статьи;
Список комментариев;
Форма написания нового комментария (если пользователь авторизован, иначе скрыть).

2.1. Кнопка Редактировать статью (доступна только администратору)

Поведение:

После нажатия скрывает контент статьи (картинка, заголовок, дата публикации, текст статьи);
Вместо контента статьи отображает форму из 3 полей: адрес картинки, заголовок, текст;
Кнопка «Редактировать» заменяется на кнопку «Сохранить»;
Список комментариев и форма написания нового комментария скрываются.

2.2. Кнопка Сохранить статью (доступна только администратору)

Поведение:

После нажатия берёт данные из 3 полей: адрес картинки, заголовок, текст и отправляет на сервер, перезаписывая данные для текущей статьи;
После успешного обновления данных статьи на сервере кнопка «Сохранить» заменяется на кнопку «Редактировать статью»;
После успешного обновления данных статьи на сервере вместо формы из 3 полей отображается обновлённый контент статьи (картинка, заголовок, текст статьи, дата публикации остаётся прежней);
Список комментариев и форма написания нового комментария снова отображаются. 

2.3. Кнопка Удалить статью (доступна только администратору)

Поведение:

После нажатия появляется модальное окно в центре экрана;
Всё остальное пространство вокруг модального окна затемняется;
Всё, что находится вне модального окна становится недоступным для управления (нажатия кнопок, ввод данных в поля формы и т. д.);
Содержание модального окна: текст «Удалить статью?» и 2 кнопки: «Да» и «Отмена»;
После нажатия на кнопку «Да» отправляется запрос на сервер об удалении текущей статьи;
После успешного удаления статьи на сервере происходит переход на Главную страницу /;
После нажатия на кнопку «Отмена» модальное окно закрывается, фон перестаёт затемняться, всё становится доступным для управления (возврат в состояние до момента открытия модального окна).

2.4. Комментарий

Содержание:

Текст комментария;
Имя автора комментария;
Дата публикации комментария;
Кнопка «Удалить» в виде иконки (только для администратора и модератора, иначе скрыть).

2.5. Форма написания нового комментария (доступна всем, кроме гостя)

Содержание:

Поле ввода текста комментария;
Кнопка «Отправить».
Поведение:

После нажатия кнопки «Отправить» из поля ввода берётся введённый текст, и если он не пустой, то отправляется на сервер для добавления нового комментария для текущей статьи;
После успешного добавления данных на сервере нужно отобразить актуальный список комментариев (должен добавиться новый, а старые должны остаться и не мигать при добавлении нового, сдвигаться могут).

2.6. Кнопка Удалить комментарий (доступна только администратору и модератору)

Поведение (похоже на кнопку «Удалить статью»):

После нажатия появляется модальное окно в центре экрана;
Всё остальное пространство вокруг модального окна затемняется;
Всё, что находится вне модального окна становится недоступным для управления (нажатия кнопок, ввод данных в поля формы и т.д.);
Содержание модального окна: текст «Удалить комментарий?» и 2 кнопки: «Да» и «Отмена»;
После нажатия на кнопку «Да» отправляется запрос на сервер об удалении выбранного комментария;
После успешного удаления комментария на сервере этот комментарий исчезает из списка комментариев так, что сам список не мигает (сдвигаться может);
После нажатия на кнопку «Отмена» модальное окно закрывается, фон перестаёт затемняться, всё становится доступным для управления (возврат в состояние до момента открытия модального окна).

3. Новая статья (доступна только администратору)

Адрес: /post
Содержание:

Форма из 3 полей: адрес картинки, заголовок, текст;
Кнопка «Сохранить»
Поведение:

После нажатия берёт данные из 3 полей: адрес картинки, заголовок, текст и отправляет на сервер, создавая новую статью с этими данными;
После успешного создания новой статьи на сервере происходит переход на страницу этой новой статьи /post/id_новой_статьи.

4. Вход

Адрес: /post
Содержание:

Поле для ввода логина;
Поле для ввода пароля;
Кнопка «Войти»;
Кнопка/ссылка «Регистрация»;
Информация об ошибке (отображать в случае возникновения ошибки).
Поведение:

Логин и пароль должны проходить заданную валидацию (определить самостоятельно).
Если валидация не прошла или хоть одно поле не заполнено, то кнопка «Войти» должна быть неактивной;
После нажатия на кнопку «Войти» отправлять на сервер данные, взятые из полей логин и пароль;
Если на сервере есть данные о таком пользователе (совпадает логин и пароль), то переключить роль пользователя в приложении на соответствующую;
После успешной авторизации перейти на Главную страницу /;
Если авторизация не удалась, то сообщить об ошибке (либо неверный пароль, либо такой пользователь не существует);
После нажатия на «Регистрация» перейти на страницу Регистрация /register.

5. Регистрация

Адрес: /register

Содержание:

Поле для ввода логина;
Поле для ввода пароля;
Поле для повторного ввода пароля;
Кнопка «Зарегистрироваться»;
Информация об ошибке (отображать в случае возникновения ошибки).
Поведение:

Логин и пароль должны проходить заданную валидацию (определить самостоятельно);
Данные в поле повтор пароля должны совпадать с данными поля пароль;
Если валидация не прошла или хоть одно поле не заполнено, то кнопка «Зарегистрироваться» должна быть неактивной;
После нажатия на кнопку «Зарегистрироваться» отправлять на сервер данные, взятые из полей логин и пароль;
Если на сервере ещё нет указанного логина, то добавить нового пользователя с ролью читатель;
После успешной регистрации сразу же авторизовать пользователя в приложении (переключив роль текущего пользователя в приложении на читатель);
После успешной регистрации перейти на Главную страницу /;
Если регистрация не удалась, то сообщить об ошибке (такой логин уже занят).

6. Пользователи (доступна только администратору)

Адрес: /users

Содержание:

список пользователей в виде строк.

6.1. Строка пользователя

Содержание:

Имя пользователя (оно же логин);
Дата регистрации;
Роль пользователя в виде выпадающего списка;
Кнопка «Сохранить» (например, в виде иконки);
Кнопка «Удалить» (например, в виде иконки).
Поведение:

Текущая роль пользователя должна выбираться из трёх доступных в выпадающем списке: Администратор, Модератор, Читатель;
После нажатия на «Сохранить» роль пользователя должна обновиться на сервере;
После нажатия на «Удалить» пользователь должен удалиться на сервере и его строка должна исчезнуть на странице в приложении.

7. Страница с ошибкой о том, что страница по заданному адресу не существует

Адрес: тот, который был задан.

8. Страница с ошибкой о том, что у пользователя нет доступа к заданной странице

Адрес: тот, который был задан
